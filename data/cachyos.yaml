#YAML

Update:
    - sudo paru -Syyu

Packages: 
    - sudo paru -S sysfsutils
    - sudo paru -S fprintd
    - sudo paru -S cachyos-gaming-meta
    - sudo paru -S cachyos-gaming-applications
    - paru -S visual-studio-code-bin
    - paru -S microsoft-edge-stable-bin
    - paru -S google-chrome
    - paru -S 1password
    - paru -S yakuake
    - sudo paru -S deja-dup
    - sudo paru -S pamac-aur
    - sudo paru -S discover

Backup:
    - echo "Backing up files for modification during CachyOS setup."
    - sudo cp /etc/fstab /etc/fstab.bak
    - cp /home/${USER}/.config/fish/config.fish /home/${USER}/.config/fish/config.fish.bak
    - sudo cp /etc/pam.d/sudo /etc/pam.d/sudo.bak

VimSetup:
    - echo "set number" > /home/${USER}/.vimrc
    - echo "syntax on" >> /home/${USER}/.vimrc
    - echo "colorscheme ron" >> /home/${USER}/.vimrc
    - grep "# Added by TrickMyInstall Script" /home/${USER}/.config/fish/config.fish || echo -e "\n# Added by TrickMyInstall Script\n" >> /home/${USER}/.config/fish/config.fish
    - grep "set -x EDITOR /usr/bin/vim" /home/${USER}/.config/fish/config.fish || echo "set -x EDITOR /usr/bin/vim" >> /home/${USER}/.config/fish/config.fish
    
Environment:
    - echo "Environment setup for CachyOS"
    - echo "Setting fish shell prompt to Astronaut theme"
    - /usr/bin/fish -c "fish_config prompt choose astronaut && funcsave fish_prompt"
    - grep "alias git-update='git checkout main && git pull origin main && git checkout develop'" /home/${USER}/.config/fish/config.fish || echo -e "alias git-update='git checkout main && git pull origin main && git checkout develop'" >> /home/${USER}/.config/fish/config.fish
    - grep "alias git-merge='git checkout main && git pull origin main && git merge main develop && git push origin main && git checkout develop'" /home/${USER}/.config/fish/config.fish || echo -e "alias git-merge='git checkout main && git pull origin main && git merge main develop && git push origin main && git checkout develop'" >> /home/${USER}/.config/fish/config.fish
    - grep "alias update='sudo paru -Syyu && flatpak update -y'" /home/${USER}/.config/fish/config.fish || echo "alias update='sudo paru -Syyu && flatpak update -y'" >> /home/${USER}/.config/fish/config.fish
    - grep "alias wirelesspw='nmcli device wifi show-password'" /home/${USER}/.config/fish/config.fish || echo "alias wirelesspw='nmcli device wifi show-password'" >> /home/${USER}/.config/fish/config.fish
    - grep "echo && ~/code/bash_scripts/backupservercheck.sh && echo" /home/${USER}/.config/fish/config.fish || echo "echo && ~/code/bash_scripts/backupservercheck.sh && echo" >> /home/${USER}/.config/fish/config.fish
    - cd /home/${USER}/code && test -d bash_scripts || git clone https://github.com/linuxg33k76/bash_scripts
    - grep "auth            sufficient      pam_fprintd.so" /etc/pam.d/sudo || sudo sed -i "2i auth            sufficient      pam_fprintd.so" /etc/pam.d/sudo